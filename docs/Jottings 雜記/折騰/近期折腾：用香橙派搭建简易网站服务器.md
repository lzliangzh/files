---
date: 2024-03-02
authors: [lzliangzh]
tags: 
  - 折騰
---



# 近期折腾：用香橙派搭建简易网站服务器

2024/2/29～2024/3/2，周四到周日（其实次周周二还在折腾）。拿香橙派搭好云盘后，想着干脆把 1ntersection 网站也部署到上面好了，毕竟自己的东西用的还是放心，放一些私人的东西也安全。

<!-- more -->

## 有关静态网页生成器的选择

1. Mkdocs 支持 serve 到指定 ip，也支持 ipv6 地址，比较简单，不过只能 serve 到一个 ip，即本机的 ipv4 和 ipv6 不能同时 serve。

2. 其他的静态网页生成器（例如 Gitbook, Vuepress）只能生成 html 网页，需要用 nginx/apache2 serve 到 ip（注意：将根目录指向 html 网页所在处）。

3. 在配置 nginx/apache2 的时候，尽量注意备份😭

4. 有一个插件 mkdocs-callouts 可以实现以比较易用的代码格式编写 admonition，就像这样：

   ```
   > [INFO|left] Title
   > 
   > Some pieces of information
   ```

   效果如下。

> [!INFO|left] Title
>
> Some pieces of information



## 有关 Mkdocs 更换主题

mkdocs-material 主题确实赏心悦目，但看久了有点腻，而且上面的大 title-bar 给人压的喘不过气。Gitbook 或者 Mkdocs 自带的几个主题虽然简单但耐看。

因此萌生了更换主题的想法。更换主题最主要的难点就是 Material 主题所支持的众多插件其他主题并不支持。目前比较要紧的如下。

| 功能                 | 插件 | 测试支持情况                                                 |
| -------------------- | ---- | ------------------------------------------------------------ |
| 代码高亮（代码相关） |      | Readthedocs 支持，Gitbook 不支持                             |
| 告诫框               |      | Readthedocs 有部分设计样式（仅非伸缩告诫框有），Gitbook 未设计样式（一点儿也没有），必须使用 Gitbook 的话得自己写 extra.css，具体见本站 extra.css |
| 搜索                 |      | 均不支持                                                     |

## 对于 Gitbook 的调试

有这样的现象：gitbook 主题的 css 要求 html, body, .book-body 三者 `height: 100%;` 才能将右侧内容显示完全，否则显示不完全甚至几乎消失。但是设置 `height: 100%;` 以后，打印网页只能打印 1 页纸。这令人非常揪心。

上网搜索了解到，解决方法是将 html, body 的`height`设为`auto`。然而这并没有结束，此时页面就出现了内容消失的情况。进一步解决方案是：调整 body 子元素的 position 为 relative/absolute/fixed（视情况而定）。

## 还未解决的问题

* 告诫框「!!!」引导的样式尚未完成自定义 css 编写。